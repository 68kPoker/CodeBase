
/*
 * Magazyn
 * Ekran
 */

#include "Ekran.h"

#include <intuition/screens.h>
#include <clib/graphics_protos.h>
#include <clib/intuition_protos.h>
#include <clib/diskfont_protos.h>

ULONG palette[98] =
{
	0x00200000,	/* Record Header */
	0x00000000,0x00000000,0x00000000,
	0xA0000000,0xA0000000,0xA0000000,
	0x4FFFFFFF,0x18888888,0x00000000,
	0x5AAAAAAA,0x1BBBBBBB,0x00000000,
	0x66666666,0x21111111,0x00000000,
	0xFFFFFFFF,0xEEEEEEEE,0x00000000,
	0x80000000,0xEAAAAAAA,0x00000000,
	0x00000000,0x88888888,0x00000000,
	0x00000000,0xBBBBBBBB,0x66666666,
	0x5EEEEEEE,0xD6666666,0xFFFFFFFF,
	0x37777777,0x8CCCCCCC,0xDFFFFFFF,
	0xEEEEEEEE,0x00000000,0x00000000,
	0x00000000,0x00000000,0xA2222222,
	0x77777777,0x00000000,0xFFFFFFFF,
	0xCCCCCCCC,0x00000000,0xEEEEEEEE,
	0xCCCCCCCC,0x00000000,0x88888888,
	0xAAAAAAAA,0x00000000,0x00000000,
	0x98888888,0x43333333,0x19999999,
	0x43333333,0x14444444,0x00000000,
	0xFFFFFFFF,0xA9999999,0x7BBBBBBB,
	0x80000000,0x31111111,0x0BBBBBBB,
	0x18888888,0x42222222,0xBFFFFFFF,
	0xB2222222,0x58888888,0x2CCCCCCC,
	0xCBBBBBBB,0x6FFFFFFF,0x42222222,
	0xE5555555,0x89999999,0x5DDDDDDD,
	0xFFFFFFFF,0xFFFFFFFF,0xFFFFFFFF,
	0x57777777,0x57777777,0x57777777,
	0x79999999,0x79999999,0x79999999,
	0x99999999,0x99999999,0x99999999,
	0xBBBBBBBB,0xBBBBBBBB,0xBBBBBBBB,
	0xDCCCCCCC,0xDCCCCCCC,0xDCCCCCCC,
	0xFFFFFFFF,0x48888888,0x4BBBBBBB,
	0x00000000	/* Terminator */
};

struct TextAttr ta =
{
	"centurion.font",
	9,
	FS_NORMAL,
	FPF_DISKFONT | FPF_DESIGNED
};

struct Rectangle dclip =
{
	0, 0, 319, 255
};

BOOL openScreen(screen *s)
{
	if (s->tf = OpenDiskFont(&ta))
	{
		if (s->s = OpenScreenTags(NULL,
			SA_DClip,	&dclip,
			SA_Depth,	6,
			SA_DisplayID,	LORES_KEY | EXTRAHALFBRITE_KEY,
			SA_Font,	&ta,
			SA_Interleaved,	TRUE,
			SA_Quiet,	TRUE,
			SA_Colors32,	palette,
			SA_ShowTitle,	FALSE,
			TAG_DONE))
		{
			return(TRUE);
		}
		CloseFont(s->tf);
	}
	return(FALSE);
}

void closeScreen(screen *s)
{
	CloseScreen(s->s);
	CloseFont(s->tf);
}
